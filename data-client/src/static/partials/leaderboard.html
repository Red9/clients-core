<h2>Beta Leaderboard</h2>
<!-- <a ng-repeat="url in leaderboardTags" ng-href="leaderboard/{{ url }}"> {{ url }} </a> -->

<div class="row leaderboards">
    <div class="date-wrapper col-sm-3">
        <br />
        <div>
            <p class="input-group">
                <input type="text" class="form-control" datepicker-popup="{{ format }}" datepicker-options="dateOptions" ng-model="startDate.date"
                       is-open="startDate.opened" ng-required="true" close-text="Close" ng-click="startDate.open($event)" placeholder="Start date"/>
            </p>
        </div>

        <div>
            <p class="input-group">
                <input type="text" class="form-control" datepicker-popup="{{ format }}" datepicker-options="dateOptions" ng-model="endDate.date"
                       is-open="endDate.opened" ng-required="true" close-text="Close" ng-click="endDate.open($event)" placeholder="End date" />
            </p>
        </div>
        <button type="button" class="btn btn-leaderboard col-sm-12" ng-click="runSearch()">Apply</button>
    </div>
    <br />
    <div class="col-sm-9">
        <div ng-if="leaderboardData.length === 0">
            <br/><br/>No results found.
        </div>
        <div ng-if="leaderboardData === null">
            <span us-spinner></span>
        </div>
        <div ng-if="leaderboardData.length > 0">
            <div class="table-responsive">
                <table class="table table-hover table-condensed leaderboard">
                    <thead>
                    <th>Surfer</th>
                    <th>Sessions</th>
                    <th>Waves / hour</th>
                    <th>Distance / Wave</th>
                    <th>Total Wave Distance</th>
                    </thead>

                    <tbody>
                    <tr ng-repeat="row in leaderboardData" class="ngFade">
                        <td class="vertical-center surfer">
                            <a ng-href="/user/{{row.user.id}}">
                                <img ng-src="{{row.user.picture}}?sz=40" width="40px" height="40px"/>
                                {{row.user.displayName}}
                            </a>
                        </td>
                        <td class="vertical-center sessions">
                            <a ng-href="/dataset/?ownerId={{row.user.id}}&startTime.gt={{startTime}}&endTime.lt={{endTime}}">{{row.datasets.length | number:0}}</a>
                        </td>
                        <td class="vertical-center waves-per-hour">
                            <a ng-href="/dataset/{{row.id}}" target="_self">{{row.wavesPerHour | number:1}}</a>
                        </td>
                        <td class="vertical-center distance-per-wave"><a ng-href="/dataset/{{row.id}}">{{row.averageDistancePerWave | number:1}} m</a></td>
                        <td class="vertical-center total-distance">{{row.totalDistance | number:0}} m</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-sm-12 text-right">
        <p class="text-muted">{{leaderboardData.length}} surfers</p>
    </div>
</div>